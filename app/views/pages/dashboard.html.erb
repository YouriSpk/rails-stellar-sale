<div class="container mt-5">
  <h2>Welcome, <%= @user.first_name %> <%= @user.last_name %>!</h2>

  <% @pending_requests = Rental.joins(:star).where(approved: false, stars: { user_id: current_user.id }) %>

  <% if @user.admin? %>
    <!-- Display pending requests for admin -->
    <h3>Pending Requests:</h3>
    <div class="row">
      <% @pending_requests.each do |request| %>
        <div class="col-md-4 mb-4">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title"><%= request.new_name %></h5>
              <p class="card-text">
                From: <%= request.start_date.strftime("%d %B %Y") %> To: <%= request.end_date.strftime("%d %B %Y") %>
              </p>
              <!-- Add more details as needed -->

              <!-- Button to approve the request -->
              <%= button_to "Approve Request", approve_request_rental_path(request), method: :patch, class: "btn btn-success" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <!-- Display rentals for non-admin users -->
    <h3>Your Rentals:</h3>
    <div class="row">
      <% @rentals.each do |rental| %>
        <div class="col-md-4 mb-4">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title"><%= rental.details %> <!-- Replace with actual details --></h5>
              <!-- Add more details as needed -->
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
